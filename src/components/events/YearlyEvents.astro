---
import { getAllYearlyEvents } from '../../data/events';

const events = getAllYearlyEvents();
let for_all = true;
let only_members = false;
---

<section class="relative mb-20 px-4 pt-14 lg:px-20 lg:pt-24">
	<enhanced:img src="$lib/assets/projects-bg-lg-3.jpg" alt="" class="absolute -left-0 -z-10 mt-32"
	></enhanced:img>
	<h2 class="font-serif text-2xl font-bold">Unsere jährlichen Veranstaltungen</h2>
	<p class="mt-5 max-w-prose">
		Unsere jährlichen Veranstaltungen sind ein fester Bestandteil unseres YoungVision-Kalenders. Sie
		bieten eine entspannte Gelegenheit, zusammenzukommen, zu wachsen, Kontakte zu knüpfen und das
		Leben in vollen Zügen zu genießen. Hier erfährst du mehr über diese besonderen Anlässe, die
		unsere Gemeinschaft jedes Jahr aufs Neue bereichern und inspirieren.
	</p>
	<div class="mt-3 flex flex-row">
		<div class="flex items-center">
			<input class="h-7 w-7" type="checkbox" id="for-all" checked={for_all} />
			<label class="ml-4" for="for-all">Für Alle</label>
		</div>
		<div class="ml-10 flex items-center lg:ml-28">
			<input class="h-7 w-7" type="checkbox" id="only-members" checked={only_members} />
			<label class="ml-4" for="only-members">Nur Mitglieder</label>
		</div>
	</div>
	<ul class="flex flex-col lg:mt-12 lg:grid lg:grid-cols-2 lg:gap-10">
		{
			events.map(
				(event) =>
					((event.for_all && for_all) || (!event.for_all && only_members)) && (
						<li
							class="{event.for_all ? 'bg-yellow-700' : 'bg-light-green'}
				mt-12 rounded-2xl
				shadow-lg lg:mt-0"
						>
							<enhanced:img
								alt=""
								src={event.image}
								class="max-h-64 w-full rounded-t-2xl object-cover"
							/>
							<div class="flex p-6">
								<div class="mt-4 flex flex-col items-center">
									<div class="font-serif text-5xl font-bold">{event.day}</div>
									<div>{event.month}</div>
								</div>
								<div class="ml-10">
									<h3 class="inline-block font-bold lg:text-xl">{event.title}</h3>
									{event.future && <span class="italic">ab {event.future}</span>}
									<p class="mt-3">{event.short_description}</p>
									<p class="mt-3 inline-block rounded-full bg-white px-5">
										{event.for_all ? 'Für Alle' : 'Nur Mitglieder'}
									</p>
								</div>
							</div>
						</li>
					),
			)
		}
	</ul>
</section>
