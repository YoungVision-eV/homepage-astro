---
import { getAllEvents } from '@data/events';
import Layout from '@layouts/Layout.astro';

const { title, content } = Astro.props;

// The getStaticPaths() is required for static Astro sites.
// If using SSR, you will not need this function.
export async function getStaticPaths() {
  let events = await getAllEvents();

  return events.map((event) => {
    return {
      params: { slug: event.slug },
      props: { title: event.title, content: event.content_html },
    };
  });
}
---

<Layout title={title}>
  <article class="prose mx-auto max-w-[80rem] px-5 py-10 lg:prose-xl lg:px-20">
    <h1 set:html={title} />
    <p set:html={content} />
  </article>
</Layout>
